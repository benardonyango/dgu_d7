1677,1682c1677,1683
<   $ids = db_select('reply', 'r')
<     ->fields('r', array('id'))
<     ->extend('PagerDefault')->limit(20)
<     ->extend('TableSort')->orderByHeader($header)
<     ->execute()
<     ->fetchCol();
---
>   $parameters = drupal_get_query_parameters();
>   $query = db_select('reply', 'r')->fields('r', array('id'));
>   if (isset($parameters['bundle'])) {
>     $query->condition('r.bundle', $_GET['bundle']);
>   }
>   $query->extend('PagerDefault')->limit(20)->extend('TableSort')->orderByHeader($header);
>   $ids = $query->execute()->fetchCol();